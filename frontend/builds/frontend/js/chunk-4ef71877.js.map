{"version":3,"sources":["webpack:///./src/components/user-preferences/notifications/NotificationSettingSwitch.vue?edc5","webpack:///./src/components/user-preferences/notifications/NotificationChannelTemplate.vue?342b","webpack:///./node_modules/_vue-telegram-login@2.1.0@vue-telegram-login/dist/vue-telegram-login.js","webpack:///./src/notifications/plugins/TelegramPlugin.vue","webpack:///src/notifications/plugins/TelegramPlugin.vue","webpack:///./src/notifications/plugins/TelegramPlugin.vue?3901","webpack:///./src/notifications/plugins/TelegramPlugin.vue?ede1","webpack:///./src/components/user-preferences/notifications/NotificationChannelTemplate.vue","webpack:///./src/components/user-preferences/notifications/NotificationSettingSwitch.vue","webpack:///src/components/user-preferences/notifications/NotificationSettingSwitch.vue","webpack:///./src/components/user-preferences/notifications/NotificationSettingSwitch.vue?2560","webpack:///./src/components/user-preferences/notifications/NotificationSettingSwitch.vue?2c66","webpack:///./src/config/user-preferences/notification-settings.js","webpack:///src/components/user-preferences/notifications/NotificationChannelTemplate.vue","webpack:///./src/components/user-preferences/notifications/NotificationChannelTemplate.vue?0dab","webpack:///./src/components/user-preferences/notifications/NotificationChannelTemplate.vue?193f"],"names":["e","t","module","exports","window","r","n","i","l","call","m","c","d","o","Object","defineProperty","enumerable","get","Symbol","toStringTag","value","__esModule","create","bind","default","prototype","hasOwnProperty","p","s","name","props","mode","type","String","required","validator","includes","telegramLogin","endsWith","redirectUrl","requestAccess","size","userpic","Boolean","radius","methods","onTelegramAuth","this","$emit","mounted","document","createElement","async","src","setAttribute","$refs","telegram","appendChild","$createElement","_self","_c","ref","_withStripped","u","a","options","render","staticRenderFns","_compiled","functional","_scopeId","$vnode","ssrContext","parent","__VUE_SSR_CONTEXT__","_registeredComponents","add","_ssrRegister","$root","$options","shadowRoot","_injectStyles","f","beforeCreate","concat","__file","_vm","attrs","errorMessages","saving","notificationChannel","setupCompleted","on","$event","channel","settingKey","scopedSlots","_u","key","fn","staticClass","_v","isInMobile","channelInfo","config","chat_id","onTelegramLogout","onTelegramTest","pluginInfo","env_vars","TELEGRAM_BOT_NAME","proxy","components","NotificationChannelTemplate","vueTelegramLogin","computed","_this$notificationCha","mobilePlatform","telegram_user","JSON","stringify","id","section","event","target","classList","axios","post","urls","testNotificationChannel","then","catch","err","remove","$swal","Reject","fire","title","html","showConfirmButton","showCancelButton","cancelButtonText","component","_s","envVarsToSet","length","_t","configVariableName","configVariableTitle","directives","rawName","configVariable","expression","configVariablePlaceholder","domProps","composing","_e","channelCreated","showSettings","class","inactive","notificationsEnabled","_l","notificationSettings","setting","theme","printerStatusChangeNotifications","Array","isArray","_i","$$a","$$el","$$c","checked","$$v","$$i","slice","description","model","callback","subcategories","subcategory","getKey","variable","isSubcategory","settingId","disabled","labelClass","settingTitle","settingDescription","bottomDivider","SavingAnimation","isHeader","data","platform","watch","newVal","prevVal","propNames","propValues","getNotificationSettingKey","enabledByDefault","NotificationSettingSwitch","defaultNotificationSettings","configUpdateTimeout","enabled","envVars","missedEnvVars","val","entries","is_required","is_set","push","find","set","newValue","changedProps","newValues","oldValue","updateConfig","created","clearTimeout","setTimeout"],"mappings":"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","file":"js/chunk-4ef71877.js","sourcesContent":["export * from \"-!../../../../node_modules/_mini-css-extract-plugin@0.9.0@mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../../../node_modules/_css-loader@3.6.0@css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../../../node_modules/_vue-loader@15.11.1@vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/_postcss-loader@3.0.0@postcss-loader/src/index.js??ref--9-oneOf-1-2!../../../../node_modules/_sass-loader@8.0.2@sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/_vue-loader@15.11.1@vue-loader/lib/index.js??vue-loader-options!./NotificationSettingSwitch.vue?vue&type=style&index=0&id=260ae3fa&prod&lang=sass&scoped=true\"","export * from \"-!../../../../node_modules/_mini-css-extract-plugin@0.9.0@mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../../../node_modules/_css-loader@3.6.0@css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../../../node_modules/_vue-loader@15.11.1@vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/_postcss-loader@3.0.0@postcss-loader/src/index.js??ref--9-oneOf-1-2!../../../../node_modules/_sass-loader@8.0.2@sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/_vue-loader@15.11.1@vue-loader/lib/index.js??vue-loader-options!./NotificationChannelTemplate.vue?vue&type=style&index=0&id=4931a549&prod&lang=sass&scoped=true\"","!function(e,t){if(\"object\"==typeof exports&&\"object\"==typeof module)module.exports=t();else if(\"function\"==typeof define&&define.amd)define([],t);else{var r=t();for(var n in r)(\"object\"==typeof exports?exports:e)[n]=r[n]}}(window,function(){return function(e){var t={};function r(n){if(t[n])return t[n].exports;var i=t[n]={i:n,l:!1,exports:{}};return e[n].call(i.exports,i,i.exports,r),i.l=!0,i.exports}return r.m=e,r.c=t,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){\"undefined\"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:\"Module\"}),Object.defineProperty(e,\"__esModule\",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&\"object\"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,\"default\",{enumerable:!0,value:e}),2&t&&\"string\"!=typeof e)for(var i in e)r.d(n,i,function(t){return e[t]}.bind(null,i));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,\"a\",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p=\"\",r(r.s=0)}([function(e,t,r){\"use strict\";r.r(t);var n={name:\"vue-telegram-login\",props:{mode:{type:String,required:!0,validator:function(e){return[\"callback\",\"redirect\"].includes(e)}},telegramLogin:{type:String,required:!0,validator:function(e){return e.endsWith(\"bot\")||e.endsWith(\"Bot\")}},redirectUrl:{type:String,default:\"\"},requestAccess:{type:String,default:\"read\",validator:function(e){return[\"read\",\"write\"].includes(e)}},size:{type:String,default:\"large\",validator:function(e){return[\"small\",\"medium\",\"large\"].includes(e)}},userpic:{type:Boolean,default:!0},radius:{type:String}},methods:{onTelegramAuth:function(e){this.$emit(\"callback\",e)}},mounted:function(){var e=document.createElement(\"script\");e.async=!0,e.src=\"https://telegram.org/js/telegram-widget.js?3\",e.setAttribute(\"data-size\",this.size),e.setAttribute(\"data-userpic\",this.userpic),e.setAttribute(\"data-telegram-login\",this.telegramLogin),e.setAttribute(\"data-request-access\",this.requestAccess),this.radius&&e.setAttribute(\"data-radius\",this.radius),\"callback\"===this.mode?(window.onTelegramAuth=this.onTelegramAuth,e.setAttribute(\"data-onauth\",\"window.onTelegramAuth(user)\")):e.setAttribute(\"data-auth-url\",this.redirectUrl),this.$refs.telegram.appendChild(e)}},i=function(){var e=this.$createElement;return(this._self._c||e)(\"div\",{ref:\"telegram\"})};i._withStripped=!0;var o=function(e,t,r,n,i,o,u,a){var s=typeof(e=e||{}).default;\"object\"!==s&&\"function\"!==s||(e=e.default);var l,d=\"function\"==typeof e?e.options:e;if(t&&(d.render=t,d.staticRenderFns=r,d._compiled=!0),n&&(d.functional=!0),o&&(d._scopeId=o),u?(l=function(e){(e=e||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||\"undefined\"==typeof __VUE_SSR_CONTEXT__||(e=__VUE_SSR_CONTEXT__),i&&i.call(this,e),e&&e._registeredComponents&&e._registeredComponents.add(u)},d._ssrRegister=l):i&&(l=a?function(){i.call(this,this.$root.$options.shadowRoot)}:i),l)if(d.functional){d._injectStyles=l;var c=d.render;d.render=function(e,t){return l.call(t),c(e,t)}}else{var f=d.beforeCreate;d.beforeCreate=f?[].concat(f,l):[l]}return{exports:e,options:d}}(n,i,[],!1,null,null,null);o.options.__file=\"src/vue-telegram-login.vue\";var u=o.exports;r.d(t,\"vueTelegramLogin\",function(){return u})}])});","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('notification-channel-template',{attrs:{\"error-messages\":_vm.errorMessages,\"saving\":_vm.saving,\"notification-channel\":_vm.notificationChannel,\"show-settings\":_vm.setupCompleted},on:{\"createNotificationChannel\":function($event){return _vm.$emit('createNotificationChannel', $event)},\"updateNotificationChannel\":function($event){return _vm.$emit('updateNotificationChannel', $event)},\"deleteNotificationChannel\":(channel) => _vm.$emit('deleteNotificationChannel', channel),\"clearErrorMessages\":(settingKey) => _vm.$emit('clearErrorMessages', settingKey)},scopedSlots:_vm._u([{key:\"header\",fn:function(){return [_c('div',{staticClass:\"form-text\"},[_c('p',[_vm._v(\"Login to be notified by our Telegram bot.\")]),(_vm.isInMobile)?_c('div',{staticClass:\"text-warning small\"},[_c('p',[_vm._v(\" Telegram in the mobile app is very finicky. Please open a browser, and log into \"),_c('a',{attrs:{\"href\":\"https://app.obico.io\"}},[_vm._v(\"the Obico web app\")]),_vm._v(\" using the same credential to set up Telegram. \")]),_c('p',[_vm._v(\"Once set up, Telegram notification will work properly on your phone.\")])]):_c('div',{staticClass:\"text-warning small\"},[_c('p',[_vm._v(\" If you see \\\"Bot domain invalid\\\", please hard-refresh the browser a few times. I know it's annoying. But Telegram API has a very high failure rate. \")]),_c('p',[_vm._v(\" If you press the \\\"Test Telegram Notification\\\" button and see an error, please hard-refresh the browser a few times and press the test button again. \")])])]),_c('br'),_c('div',{staticClass:\"form-group row\"},[(\n          _vm.notificationChannel.channelInfo &&\n          _vm.notificationChannel.channelInfo.config &&\n          _vm.notificationChannel.channelInfo.config.chat_id\n        )?_c('div',[_c('div',{staticClass:\"col-12\"},[_c('div',{staticClass:\"btn btn-sm btn-primary float-left mr-2\",on:{\"click\":_vm.onTelegramLogout}},[_vm._v(\" Unlink Telegram \")]),_c('div',{staticClass:\"btn btn-sm btn-primary float-left\",on:{\"click\":function($event){return _vm.onTelegramTest($event)}}},[_vm._v(\" Test Telegram Notification \")])])]):_c('div',[_c('div',{staticClass:\"col-12\"},[_c('vue-telegram-login',{attrs:{\"mode\":\"callback\",\"telegram-login\":_vm.notificationChannel.pluginInfo.env_vars.TELEGRAM_BOT_NAME.value,\"request-access\":\"write\"},on:{\"callback\":_vm.onTelegramAuth}})],1)])])]},proxy:true}])})\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <notification-channel-template\n    :error-messages=\"errorMessages\"\n    :saving=\"saving\"\n    :notification-channel=\"notificationChannel\"\n    :show-settings=\"setupCompleted\"\n    @createNotificationChannel=\"$emit('createNotificationChannel', $event)\"\n    @updateNotificationChannel=\"$emit('updateNotificationChannel', $event)\"\n    @deleteNotificationChannel=\"(channel) => $emit('deleteNotificationChannel', channel)\"\n    @clearErrorMessages=\"(settingKey) => $emit('clearErrorMessages', settingKey)\"\n  >\n    <template #header>\n      <div class=\"form-text\">\n        <p>Login to be notified by our Telegram bot.</p>\n        <div v-if=\"isInMobile\" class=\"text-warning small\">\n          <p>\n            Telegram in the mobile app is very finicky. Please open a browser, and log into\n            <a href=\"https://app.obico.io\">the Obico web app</a> using the same credential to set up\n            Telegram.\n          </p>\n          <p>Once set up, Telegram notification will work properly on your phone.</p>\n        </div>\n        <div v-else class=\"text-warning small\">\n          <p>\n            If you see \"Bot domain invalid\", please hard-refresh the browser a few times. I know\n            it's annoying. But Telegram API has a very high failure rate.\n          </p>\n          <p>\n            If you press the \"Test Telegram Notification\" button and see an error, please\n            hard-refresh the browser a few times and press the test button again.\n          </p>\n        </div>\n      </div>\n      <br />\n      <div class=\"form-group row\">\n        <div\n          v-if=\"\n            notificationChannel.channelInfo &&\n            notificationChannel.channelInfo.config &&\n            notificationChannel.channelInfo.config.chat_id\n          \"\n        >\n          <div class=\"col-12\">\n            <div class=\"btn btn-sm btn-primary float-left mr-2\" @click=\"onTelegramLogout\">\n              Unlink Telegram\n            </div>\n            <div class=\"btn btn-sm btn-primary float-left\" @click=\"onTelegramTest($event)\">\n              Test Telegram Notification\n            </div>\n          </div>\n        </div>\n        <div v-else>\n          <div class=\"col-12\">\n            <vue-telegram-login\n              mode=\"callback\"\n              :telegram-login=\"notificationChannel.pluginInfo.env_vars.TELEGRAM_BOT_NAME.value\"\n              request-access=\"write\"\n              @callback=\"onTelegramAuth\"\n            />\n          </div>\n        </div>\n      </div>\n    </template>\n  </notification-channel-template>\n</template>\n\n<script>\nimport NotificationChannelTemplate from '@src/components/user-preferences/notifications/NotificationChannelTemplate.vue'\nimport axios from 'axios'\nimport urls from '@config/server-urls'\nimport { vueTelegramLogin } from 'vue-telegram-login'\nimport { mobilePlatform } from '@src/lib/page-context'\n\nexport default {\n  name: 'TelegramPlugin',\n\n  components: {\n    NotificationChannelTemplate,\n    vueTelegramLogin,\n  },\n\n  props: {\n    errorMessages: {\n      type: Object,\n      required: true,\n    },\n    saving: {\n      type: Object,\n      required: true,\n    },\n    notificationChannel: {\n      type: Object,\n      required: true,\n    },\n    config: {\n      type: Object,\n      required: true,\n    },\n  },\n\n  computed: {\n    setupCompleted() {\n      return !!this.notificationChannel.channelInfo?.config?.chat_id\n    },\n    isInMobile() {\n      return mobilePlatform()\n    },\n  },\n\n  methods: {\n    onTelegramAuth(telegram_user) {\n      const config = { chat_id: JSON.stringify(telegram_user.id) }\n      this.$emit('createNotificationChannel', { section: this.notificationChannel, config })\n    },\n\n    onTelegramLogout() {\n      this.$emit('deleteNotificationChannel', this.notificationChannel)\n    },\n\n    onTelegramTest(event) {\n      event.target.classList.add('disabled')\n\n      return axios\n        .post(urls.testNotificationChannel(this.notificationChannel.channelInfo.id))\n        .then(() => {\n          event.target.classList.add('btn-success')\n        })\n        .catch((err) => {\n          event.target.classList.remove('disabled')\n          this.$swal.Reject.fire({\n            title: 'Error',\n            html: `<p style=\"line-height: 1.5; max-width: 400px; margin: 0 auto;\">\n              Telegram test failed\n            </p>`,\n            showConfirmButton: false,\n            showCancelButton: true,\n            cancelButtonText: 'Close',\n          })\n        })\n    },\n  },\n}\n</script>\n","import mod from \"-!../../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/_thread-loader@2.1.3@thread-loader/dist/cjs.js!../../../node_modules/_babel-loader@8.3.0@babel-loader/lib/index.js!../../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/_vue-loader@15.11.1@vue-loader/lib/index.js??vue-loader-options!./TelegramPlugin.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/_thread-loader@2.1.3@thread-loader/dist/cjs.js!../../../node_modules/_babel-loader@8.3.0@babel-loader/lib/index.js!../../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/_vue-loader@15.11.1@vue-loader/lib/index.js??vue-loader-options!./TelegramPlugin.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./TelegramPlugin.vue?vue&type=template&id=70e75a1a\"\nimport script from \"./TelegramPlugin.vue?vue&type=script&lang=js\"\nexport * from \"./TelegramPlugin.vue?vue&type=script&lang=js\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/_vue-loader@15.11.1@vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('section',[_c('h2',{staticClass:\"section-title\"},[_vm._v(_vm._s(_vm.notificationChannel.title))]),(_vm.envVarsToSet.length === 0)?_c('div',[_vm._t(\"header\"),_vm._t(\"configuration\",function(){return [(_vm.configVariableName)?_c('div',{staticClass:\"form-group row my-4\"},[_c('label',{staticClass:\"col-12 col-form-label\",attrs:{\"for\":`id_${_vm.settingKey(_vm.configVariableName)}`}},[_vm._v(\" \"+_vm._s(_vm.configVariableTitle)+\" \")]),_c('div',{staticClass:\"col-12 col-form-label\"},[_c('saving-animation',{attrs:{\"errors\":_vm.errorMessages[_vm.settingKey('config')],\"saving\":_vm.saving[_vm.settingKey('config')]}},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.configVariable),expression:\"configVariable\"}],staticClass:\"form-control\",attrs:{\"id\":`id_${_vm.settingKey(_vm.configVariableName)}`,\"type\":\"text\",\"placeholder\":_vm.configVariablePlaceholder},domProps:{\"value\":(_vm.configVariable)},on:{\"input\":function($event){if($event.target.composing)return;_vm.configVariable=$event.target.value}}})])],1)]):_vm._e()]}),(_vm.channelCreated && _vm.showSettings)?_c('div',[_c('notification-setting-switch',{attrs:{\"setting-id\":\"enabled\",\"setting-title\":\"Enable notification\",\"is-header\":true,\"error-messages\":_vm.errorMessages,\"saving\":_vm.saving,\"notification-channel\":_vm.notificationChannel,\"bottom-divider\":true},on:{\"updateNotificationChannel\":function($event){return _vm.$emit('updateNotificationChannel', $event)}}}),_c('div',{class:{ inactive: !_vm.notificationsEnabled }},[_vm._t(\"custom-settings\"),_vm._l((_vm.notificationSettings),function(setting){return _c('div',{key:setting.id},[(setting.id === 'print_job')?[(_vm.theme === 'web')?_c('div',{staticClass:\"row\"},[_c('div',{staticClass:\"col-12 col-form-label\"},[_c('saving-animation',{attrs:{\"errors\":[],\"saving\":false}},[_c('div',{staticClass:\"custom-control custom-checkbox form-check-inline\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.printerStatusChangeNotifications),expression:\"printerStatusChangeNotifications\"}],staticClass:\"custom-control-input\",attrs:{\"id\":`id_${_vm.settingKey(setting.id)}`,\"type\":\"checkbox\",\"disabled\":!_vm.notificationsEnabled},domProps:{\"checked\":Array.isArray(_vm.printerStatusChangeNotifications)?_vm._i(_vm.printerStatusChangeNotifications,null)>-1:(_vm.printerStatusChangeNotifications)},on:{\"change\":function($event){var $$a=_vm.printerStatusChangeNotifications,$$el=$event.target,$$c=$$el.checked?(true):(false);if(Array.isArray($$a)){var $$v=null,$$i=_vm._i($$a,$$v);if($$el.checked){$$i<0&&(_vm.printerStatusChangeNotifications=$$a.concat([$$v]))}else{$$i>-1&&(_vm.printerStatusChangeNotifications=$$a.slice(0,$$i).concat($$a.slice($$i+1)))}}else{_vm.printerStatusChangeNotifications=$$c}}}}),_c('label',{staticClass:\"custom-control-label\",attrs:{\"for\":`id_${_vm.settingKey(setting.id)}`}},[_vm._v(\" \"+_vm._s(setting.title)+\" \"),(setting.description)?_c('span',{staticClass:\"text-muted setting-description\"},[_c('br'),_vm._v(_vm._s(setting.description))]):_vm._e()])])])],1)]):_c('div',[_c('saving-animation',{attrs:{\"errors\":[],\"saving\":false}},[_c('div',{staticClass:\"mobile-setting-item-wrapper\"},[_c('div',{staticClass:\"setting-item-text\"},[_c('label',{attrs:{\"for\":`id_${_vm.settingKey(setting.id)}`}},[_vm._v(\" \"+_vm._s(setting.title)+\" \"),(setting.description)?_c('span',{staticClass:\"text-muted setting-description\"},[_c('br'),_vm._v(_vm._s(setting.description))]):_vm._e()])]),_c('div',{staticClass:\"setting-item-switch\"},[_c('onoff-toggle',{staticClass:\"mb-0\",attrs:{\"theme\":_vm.theme,\"width\":_vm.theme === 'ios' ? 48 : 30,\"height\":_vm.theme === 'ios' ? 24 : 12,\"on-color\":_vm.theme === 'ios' ? 'var(--color-primary)' : 'var(--color-primary-muted)',\"off-color\":\"var(--color-divider)\",\"border-color\":\"var(--color-divider)\",\"thumb-color\":_vm.theme === 'ios' ? '#fff' : 'var(--color-primary)',\"disabled\":!_vm.notificationsEnabled},model:{value:(_vm.printerStatusChangeNotifications),callback:function ($$v) {_vm.printerStatusChangeNotifications=$$v},expression:\"printerStatusChangeNotifications\"}})],1)])])],1)]:[_c('notification-setting-switch',{attrs:{\"setting-id\":setting.id,\"setting-title\":setting.title,\"setting-description\":setting.description,\"disabled\":!_vm.notificationsEnabled,\"error-messages\":_vm.errorMessages,\"saving\":_vm.saving,\"notification-channel\":_vm.notificationChannel},on:{\"updateNotificationChannel\":function($event){return _vm.$emit('updateNotificationChannel', $event)}}})],(setting.subcategories)?_c('div',_vm._l((setting.subcategories),function(subcategory){return _c('notification-setting-switch',{key:_vm.getKey(subcategory),attrs:{\"setting-id\":subcategory.id,\"setting-title\":subcategory.title,\"setting-description\":subcategory.description,\"is-subcategory\":true,\"disabled\":!_vm.notificationsEnabled,\"error-messages\":_vm.errorMessages,\"saving\":_vm.saving,\"notification-channel\":_vm.notificationChannel},on:{\"updateNotificationChannel\":function($event){return _vm.$emit('updateNotificationChannel', $event)}}})}),1):_vm._e()],2)})],2)],1):_vm._e(),_vm._t(\"footer\")],2):_c('div',[_c('p',{staticClass:\"text-warning\"},[_vm._v(\"Please configure the following variables in the \\\".env\\\" file:\")]),_c('ul',{staticClass:\"text-warning\"},_vm._l((_vm.envVarsToSet),function(variable){return _c('li',{key:variable},[_vm._v(_vm._s(variable))])}),0)])])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function render(){var _vm=this,_c=_vm._self._c;return (_vm.theme === 'web')?_c('div',{staticClass:\"row\"},[_c('div',{staticClass:\"col-12 col-form-label\",class:{ 'pl-5': _vm.isSubcategory }},[_c('saving-animation',{attrs:{\"errors\":_vm.errorMessages ? _vm.errorMessages[_vm.settingKey(_vm.settingId)] : [],\"saving\":_vm.saving ? _vm.saving[_vm.settingKey(_vm.settingId)] : false}},[_c('div',{staticClass:\"custom-control custom-checkbox form-check-inline\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.value),expression:\"value\"}],staticClass:\"custom-control-input\",attrs:{\"id\":`id_${_vm.settingKey(_vm.settingId)}`,\"type\":\"checkbox\",\"disabled\":_vm.disabled},domProps:{\"checked\":Array.isArray(_vm.value)?_vm._i(_vm.value,null)>-1:(_vm.value)},on:{\"change\":function($event){var $$a=_vm.value,$$el=$event.target,$$c=$$el.checked?(true):(false);if(Array.isArray($$a)){var $$v=null,$$i=_vm._i($$a,$$v);if($$el.checked){$$i<0&&(_vm.value=$$a.concat([$$v]))}else{$$i>-1&&(_vm.value=$$a.slice(0,$$i).concat($$a.slice($$i+1)))}}else{_vm.value=$$c}}}}),_c('label',{class:['custom-control-label', _vm.labelClass],attrs:{\"for\":`id_${_vm.settingKey(_vm.settingId)}`}},[_vm._v(\" \"+_vm._s(_vm.settingTitle)+\" \"),(_vm.settingDescription)?_c('span',{staticClass:\"text-muted setting-description\"},[_c('br'),_vm._v(_vm._s(_vm.settingDescription))]):_vm._e()])])])],1),(_vm.bottomDivider)?_c('div',{staticClass:\"col-12\"},[_c('hr',{staticClass:\"my-1\"})]):_vm._e()]):_c('div',[_c('saving-animation',{attrs:{\"errors\":_vm.errorMessages ? _vm.errorMessages[_vm.settingKey(_vm.settingId)] : [],\"saving\":_vm.saving ? _vm.saving[_vm.settingKey(_vm.settingId)] : false}},[_c('div',{staticClass:\"mobile-setting-item-wrapper\",class:{ 'is-subcategory': _vm.isSubcategory }},[_c('div',{staticClass:\"setting-item-text\"},[_c('label',{class:_vm.labelClass,attrs:{\"for\":`id_${_vm.settingKey(_vm.settingId)}`}},[_vm._v(\" \"+_vm._s(_vm.settingTitle)+\" \"),(_vm.settingDescription)?_c('span',{staticClass:\"text-muted setting-description\"},[_c('br'),_vm._v(_vm._s(_vm.settingDescription))]):_vm._e()])]),_c('div',{staticClass:\"setting-item-switch\"},[_c('onoff-toggle',{staticClass:\"mb-0\",attrs:{\"theme\":_vm.theme,\"width\":_vm.theme === 'ios' ? 48 : 30,\"height\":_vm.theme === 'ios' ? 24 : 12,\"on-color\":_vm.theme === 'ios' ? 'var(--color-primary)' : 'var(--color-primary-muted)',\"off-color\":\"var(--color-divider)\",\"border-color\":\"var(--color-divider)\",\"thumb-color\":_vm.theme === 'ios' ? '#fff' : 'var(--color-primary)',\"disabled\":_vm.disabled},model:{value:(_vm.value),callback:function ($$v) {_vm.value=$$v},expression:\"value\"}})],1)])])],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div v-if=\"theme === 'web'\" class=\"row\">\n    <div class=\"col-12 col-form-label\" :class=\"{ 'pl-5': isSubcategory }\">\n      <saving-animation\n        :errors=\"errorMessages ? errorMessages[settingKey(settingId)] : []\"\n        :saving=\"saving ? saving[settingKey(settingId)] : false\"\n      >\n        <div class=\"custom-control custom-checkbox form-check-inline\">\n          <input\n            :id=\"`id_${settingKey(settingId)}`\"\n            v-model=\"value\"\n            type=\"checkbox\"\n            class=\"custom-control-input\"\n            :disabled=\"disabled\"\n          />\n          <label :class=\"['custom-control-label', labelClass]\" :for=\"`id_${settingKey(settingId)}`\">\n            {{ settingTitle }}\n            <span v-if=\"settingDescription\" class=\"text-muted setting-description\"\n              ><br />{{ settingDescription }}</span\n            >\n          </label>\n        </div>\n      </saving-animation>\n    </div>\n    <div v-if=\"bottomDivider\" class=\"col-12\">\n      <hr class=\"my-1\" />\n    </div>\n  </div>\n  <div v-else>\n    <saving-animation\n      :errors=\"errorMessages ? errorMessages[settingKey(settingId)] : []\"\n      :saving=\"saving ? saving[settingKey(settingId)] : false\"\n    >\n      <div class=\"mobile-setting-item-wrapper\" :class=\"{ 'is-subcategory': isSubcategory }\">\n        <div class=\"setting-item-text\">\n          <label :class=\"labelClass\" :for=\"`id_${settingKey(settingId)}`\">\n            {{ settingTitle }}\n            <span v-if=\"settingDescription\" class=\"text-muted setting-description\"\n              ><br />{{ settingDescription }}</span\n            >\n          </label>\n        </div>\n        <div class=\"setting-item-switch\">\n          <onoff-toggle\n            v-model=\"value\"\n            :theme=\"theme\"\n            :width=\"theme === 'ios' ? 48 : 30\"\n            :height=\"theme === 'ios' ? 24 : 12\"\n            :on-color=\"theme === 'ios' ? 'var(--color-primary)' : 'var(--color-primary-muted)'\"\n            off-color=\"var(--color-divider)\"\n            border-color=\"var(--color-divider)\"\n            :thumb-color=\"theme === 'ios' ? '#fff' : 'var(--color-primary)'\"\n            :disabled=\"disabled\"\n            class=\"mb-0\"\n          />\n        </div>\n      </div>\n    </saving-animation>\n  </div>\n</template>\n\n<script>\nimport SavingAnimation from '@src/components/SavingAnimation.vue'\nimport { getNotificationSettingKey } from '@src/lib/utils'\nimport { mobilePlatform } from '@src/lib/page-context'\n\nexport default {\n  name: 'NotificationSettingSwitch',\n\n  components: {\n    SavingAnimation,\n  },\n\n  props: {\n    errorMessages: {\n      type: Object || null,\n      default: null,\n    },\n    saving: {\n      type: Object || null,\n      default: null,\n    },\n    notificationChannel: {\n      type: Object,\n      required: true,\n    },\n    settingId: {\n      type: String,\n      required: true,\n    },\n    settingTitle: {\n      type: String,\n      required: true,\n    },\n    settingDescription: {\n      type: String,\n      default: '',\n    },\n    isSubcategory: {\n      type: Boolean,\n      default: false,\n    },\n    disabled: {\n      type: Boolean,\n      default: false,\n    },\n    bottomDivider: {\n      type: Boolean,\n      default: false,\n    },\n    isHeader: {\n      type: Boolean,\n      default: false,\n    },\n  },\n\n  data() {\n    return {\n      value: this.notificationChannel.channelInfo[this.settingId],\n    }\n  },\n\n  computed: {\n    theme() {\n      const platform = mobilePlatform()\n      if (!platform) {\n        return 'web'\n      } else {\n        return platform === 'ios' ? 'ios' : 'material'\n      }\n    },\n    labelClass() {\n      return this.isHeader ? 'lg' : ''\n    },\n  },\n\n  watch: {\n    value: function (newVal, prevVal) {\n      this.$emit('updateNotificationChannel', {\n        section: this.notificationChannel,\n        propNames: [this.settingId],\n        propValues: [newVal],\n      })\n    },\n  },\n\n  methods: {\n    settingKey(settingId) {\n      return getNotificationSettingKey(this.notificationChannel, settingId)\n    },\n  },\n}\n</script>\n\n<style lang=\"sass\" scoped>\n.setting-description\n  font-size: 14px\n  margin-bottom: 0\n.form-check-inline\n  label\n    &.lg\n      font-size: 1.15em\n      font-weight: bolder\n.mobile-setting-item-wrapper\n  display: flex\n  align-items: center\n  gap: .5rem\n  padding: 10px 0\n  border-bottom: 1px solid var(--color-divider)\n  &.is-subcategory\n    margin-left: 1rem\n  .setting-item-text\n    flex: 1\n  .setting-item-switch\n    flex: 0 0 1\n  label\n    margin-bottom: 0\n    &.lg\n      font-size: 1.15em\n      font-weight: bolder\n</style>\n","import mod from \"-!../../../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/_thread-loader@2.1.3@thread-loader/dist/cjs.js!../../../../node_modules/_babel-loader@8.3.0@babel-loader/lib/index.js!../../../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/_vue-loader@15.11.1@vue-loader/lib/index.js??vue-loader-options!./NotificationSettingSwitch.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/_thread-loader@2.1.3@thread-loader/dist/cjs.js!../../../../node_modules/_babel-loader@8.3.0@babel-loader/lib/index.js!../../../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/_vue-loader@15.11.1@vue-loader/lib/index.js??vue-loader-options!./NotificationSettingSwitch.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./NotificationSettingSwitch.vue?vue&type=template&id=260ae3fa&scoped=true\"\nimport script from \"./NotificationSettingSwitch.vue?vue&type=script&lang=js\"\nexport * from \"./NotificationSettingSwitch.vue?vue&type=script&lang=js\"\nimport style0 from \"./NotificationSettingSwitch.vue?vue&type=style&index=0&id=260ae3fa&prod&lang=sass&scoped=true\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/_vue-loader@15.11.1@vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"260ae3fa\",\n  null\n  \n)\n\nexport default component.exports","export default [\n  {\n    id: 'notify_on_failure_alert',\n    title: 'Failure alerts',\n    description: 'When possible failures are detected',\n  },\n  {\n    id: 'print_job',\n    title: 'Print job events',\n    description: 'Upon start/end/cancellation of a print job',\n    subcategories: [\n      {\n        id: 'notify_on_print_done',\n        title: 'When print is done',\n        enabledByDefault: true,\n      },\n      {\n        id: 'notify_on_print_cancelled',\n        title: 'When print is cancelled',\n        enabledByDefault: false,\n      },\n      {\n        id: 'notify_on_filament_change',\n        title: 'When printer needs attention',\n        description: 'Such as filament change or run-out',\n        enabledByDefault: true,\n      },\n      /*\n      {\n        id: 'notify_on_other_print_events',\n        title: 'When other event happens',\n        description: 'Such as start, pause, and resume',\n        enabledByDefault: false,\n      },\n      */\n      /* by zzh 20240107\n       notify_on_other_print_events => \n       notify_on_print_start\n       notify_on_print_pause\n       notify_on_print_resume\n      */\n      {\n        id: 'notify_on_print_start',\n        title: 'When start event happens',\n        description: 'start',\n        enabledByDefault: false,\n      },\n      {\n        id: 'notify_on_print_pause',\n        title: 'When pause event happens',\n        description: 'pause',\n        enabledByDefault: false,\n      },\n      {\n        id: 'notify_on_print_resume',\n        title: 'When resume event happens',\n        description: 'resume',\n        enabledByDefault: false,\n      },\n    ],\n  },\n  {\n    id: 'notify_on_heater_status',\n    title: 'Heater status change',\n    description: 'Heater reached target or cooled down',\n  },\n]\n","<template>\n  <section>\n    <h2 class=\"section-title\">{{ notificationChannel.title }}</h2>\n\n    <div v-if=\"envVarsToSet.length === 0\">\n      <slot name=\"header\"></slot>\n\n      <slot name=\"configuration\">\n        <div v-if=\"configVariableName\" class=\"form-group row my-4\">\n          <label :for=\"`id_${settingKey(configVariableName)}`\" class=\"col-12 col-form-label\">\n            {{ configVariableTitle }}\n          </label>\n          <div class=\"col-12 col-form-label\">\n            <saving-animation\n              :errors=\"errorMessages[settingKey('config')]\"\n              :saving=\"saving[settingKey('config')]\"\n            >\n              <input\n                :id=\"`id_${settingKey(configVariableName)}`\"\n                v-model=\"configVariable\"\n                type=\"text\"\n                :placeholder=\"configVariablePlaceholder\"\n                class=\"form-control\"\n              />\n            </saving-animation>\n          </div>\n        </div>\n      </slot>\n\n      <div v-if=\"channelCreated && showSettings\">\n        <notification-setting-switch\n          setting-id=\"enabled\"\n          setting-title=\"Enable notification\"\n          :is-header=\"true\"\n          :error-messages=\"errorMessages\"\n          :saving=\"saving\"\n          :notification-channel=\"notificationChannel\"\n          :bottom-divider=\"true\"\n          @updateNotificationChannel=\"$emit('updateNotificationChannel', $event)\"\n        />\n        <div :class=\"{ inactive: !notificationsEnabled }\">\n          <slot name=\"custom-settings\"></slot>\n          <div v-for=\"setting in notificationSettings\" :key=\"setting.id\">\n            <template v-if=\"setting.id === 'print_job'\">\n              <!-- FIXME: reuse NotificationSettingSwitch -->\n              <div v-if=\"theme === 'web'\" class=\"row\">\n                <div class=\"col-12 col-form-label\">\n                  <saving-animation :errors=\"[]\" :saving=\"false\">\n                    <div class=\"custom-control custom-checkbox form-check-inline\">\n                      <input\n                        :id=\"`id_${settingKey(setting.id)}`\"\n                        v-model=\"printerStatusChangeNotifications\"\n                        type=\"checkbox\"\n                        class=\"custom-control-input\"\n                        :disabled=\"!notificationsEnabled\"\n                      />\n                      <label class=\"custom-control-label\" :for=\"`id_${settingKey(setting.id)}`\">\n                        {{ setting.title }}\n                        <span v-if=\"setting.description\" class=\"text-muted setting-description\"\n                          ><br />{{ setting.description }}</span\n                        >\n                      </label>\n                    </div>\n                  </saving-animation>\n                </div>\n              </div>\n              <div v-else>\n                <saving-animation :errors=\"[]\" :saving=\"false\">\n                  <div class=\"mobile-setting-item-wrapper\">\n                    <div class=\"setting-item-text\">\n                      <label :for=\"`id_${settingKey(setting.id)}`\">\n                        {{ setting.title }}\n                        <span v-if=\"setting.description\" class=\"text-muted setting-description\"\n                          ><br />{{ setting.description }}</span\n                        >\n                      </label>\n                    </div>\n                    <div class=\"setting-item-switch\">\n                      <onoff-toggle\n                        v-model=\"printerStatusChangeNotifications\"\n                        :theme=\"theme\"\n                        :width=\"theme === 'ios' ? 48 : 30\"\n                        :height=\"theme === 'ios' ? 24 : 12\"\n                        :on-color=\"\n                          theme === 'ios' ? 'var(--color-primary)' : 'var(--color-primary-muted)'\n                        \"\n                        off-color=\"var(--color-divider)\"\n                        border-color=\"var(--color-divider)\"\n                        :thumb-color=\"theme === 'ios' ? '#fff' : 'var(--color-primary)'\"\n                        :disabled=\"!notificationsEnabled\"\n                        class=\"mb-0\"\n                      />\n                    </div>\n                  </div>\n                </saving-animation>\n              </div>\n            </template>\n            <template v-else>\n              <notification-setting-switch\n                :setting-id=\"setting.id\"\n                :setting-title=\"setting.title\"\n                :setting-description=\"setting.description\"\n                :disabled=\"!notificationsEnabled\"\n                :error-messages=\"errorMessages\"\n                :saving=\"saving\"\n                :notification-channel=\"notificationChannel\"\n                @updateNotificationChannel=\"$emit('updateNotificationChannel', $event)\"\n              />\n            </template>\n            <div v-if=\"setting.subcategories\">\n              <notification-setting-switch\n                v-for=\"subcategory in setting.subcategories\"\n                :key=\"getKey(subcategory)\"\n                :setting-id=\"subcategory.id\"\n                :setting-title=\"subcategory.title\"\n                :setting-description=\"subcategory.description\"\n                :is-subcategory=\"true\"\n                :disabled=\"!notificationsEnabled\"\n                :error-messages=\"errorMessages\"\n                :saving=\"saving\"\n                :notification-channel=\"notificationChannel\"\n                @updateNotificationChannel=\"$emit('updateNotificationChannel', $event)\"\n              />\n            </div>\n          </div>\n        </div>\n      </div>\n\n      <slot name=\"footer\"></slot>\n    </div>\n    <div v-else>\n      <p class=\"text-warning\">Please configure the following variables in the \".env\" file:</p>\n      <ul class=\"text-warning\">\n        <li v-for=\"variable in envVarsToSet\" :key=\"variable\">{{ variable }}</li>\n      </ul>\n    </div>\n  </section>\n</template>\n\n<script>\nimport SavingAnimation from '@src/components/SavingAnimation.vue'\nimport NotificationSettingSwitch from '@src/components/user-preferences/notifications/NotificationSettingSwitch.vue'\nimport { getNotificationSettingKey } from '@src/lib/utils'\nimport defaultNotificationSettings from '@config/user-preferences/notification-settings'\nimport { mobilePlatform } from '@src/lib/page-context'\n\nexport default {\n  name: 'NotificationChannelTemplate',\n\n  components: {\n    SavingAnimation,\n    NotificationSettingSwitch,\n  },\n\n  props: {\n    errorMessages: {\n      type: Object,\n      required: true,\n    },\n    saving: {\n      type: Object,\n      required: true,\n    },\n    notificationChannel: {\n      type: Object,\n      required: true,\n    },\n    notificationSettings: {\n      type: Array,\n      default: () => defaultNotificationSettings,\n    },\n    showSettings: {\n      type: Boolean,\n      default: true,\n    },\n    configVariableTitle: {\n      type: String,\n      default: '',\n    },\n    configVariablePlaceholder: {\n      type: String,\n      default: '',\n    },\n    configVariableName: {\n      type: String,\n      default: '',\n    },\n  },\n\n  data() {\n    return {\n      configVariable: null,\n      configUpdateTimeout: null,\n    }\n  },\n\n  computed: {\n    channelCreated() {\n      return !!this.notificationChannel.channelInfo\n    },\n    notificationsEnabled() {\n      return this.notificationChannel.channelInfo\n        ? this.notificationChannel.channelInfo.enabled\n        : false\n    },\n    envVarsToSet() {\n      const envVars = this.notificationChannel.pluginInfo?.env_vars || {}\n      let missedEnvVars = []\n      for (const [key, val] of Object.entries(envVars)) {\n        if (val.is_required && !val.is_set) {\n          missedEnvVars.push(key)\n        }\n      }\n      return missedEnvVars\n    },\n    printerStatusChangeNotifications: {\n      get: function () {\n        if (!this.notificationChannel.channelInfo) {\n          return null\n        }\n        const subcategories = this.notificationSettings.find(\n          (setting) => setting.id === 'print_job'\n        ).subcategories\n        for (const subcategory of subcategories) {\n          if (this.notificationChannel.channelInfo[subcategory.id]) {\n            return true\n          }\n        }\n        return false\n      },\n      set: function (newValue) {\n        if (newValue) {\n          const subcategories = this.notificationSettings.find(\n            (setting) => setting.id === 'print_job'\n          ).subcategories\n          let changedProps = []\n          let newValues = []\n          for (const subcategory of subcategories) {\n            if (subcategory.enabledByDefault) {\n              // this.notificationChannel.channelInfo[subcategory.id] = true\n              changedProps.push(subcategory.id)\n              newValues.push(true)\n            }\n          }\n          if (changedProps.length) {\n            this.$emit('updateNotificationChannel', {\n              section: this.notificationChannel,\n              propNames: changedProps,\n              propValues: newValues,\n            })\n          }\n        } else {\n          const subcategories = this.notificationSettings.find(\n            (setting) => setting.id === 'print_job'\n          ).subcategories\n          let changedProps = []\n          let newValues = []\n          for (const subcategory of subcategories) {\n            if (this.notificationChannel.channelInfo[subcategory.id]) {\n              // this.notificationChannel.channelInfo[subcategory.id] = false\n              changedProps.push(subcategory.id)\n              newValues.push(false)\n            }\n          }\n          if (changedProps.length) {\n            this.$emit('updateNotificationChannel', {\n              section: this.notificationChannel,\n              propNames: changedProps,\n              propValues: newValues,\n            })\n          }\n        }\n      },\n    },\n    // FIXME: remove after NotificationSettingSwitch reuse\n    theme() {\n      const platform = mobilePlatform()\n      if (!platform) {\n        return 'web'\n      } else {\n        return platform === 'ios' ? 'ios' : 'material'\n      }\n    },\n  },\n\n  watch: {\n    configVariable(newValue, oldValue) {\n      if (oldValue === null) {\n        return\n      }\n      this.$emit('clearErrorMessages', this.settingKey('config'))\n      this.updateConfig()\n    },\n  },\n\n  created() {\n    if (\n      this.notificationChannel.channelInfo &&\n      this.notificationChannel.channelInfo.config &&\n      this.configVariableName\n    ) {\n      this.configVariable = this.notificationChannel.channelInfo.config[this.configVariableName]\n    } else {\n      this.configVariable = ''\n    }\n  },\n\n  methods: {\n    getKey(setting) {\n      // update key on setting value change to force re-render\n      return `${setting.id}_${this.notificationChannel.channelInfo[setting.id]}`\n    },\n    settingKey(settingId) {\n      return getNotificationSettingKey(this.notificationChannel, settingId)\n    },\n    updateConfig() {\n      if (this.configUpdateTimeout) {\n        clearTimeout(this.configUpdateTimeout)\n      }\n\n      const config = {\n        [this.configVariableName]: this.configVariable,\n      }\n\n      if (this.channelCreated) {\n        this.configUpdateTimeout = setTimeout(() => {\n          if (this.configVariable) {\n            this.$emit('updateNotificationChannel', {\n              section: this.notificationChannel,\n              propNames: ['config'],\n              propValues: [config],\n            })\n          } else {\n            this.$emit('deleteNotificationChannel', this.notificationChannel)\n          }\n        }, 1000)\n      } else if (this.configVariable) {\n        this.configUpdateTimeout = setTimeout(\n          () =>\n            this.$emit('createNotificationChannel', { section: this.notificationChannel, config }),\n          1000\n        )\n      }\n    },\n  },\n}\n</script>\n\n<style lang=\"sass\" scoped>\n.setting-description\n  font-size: 14px\n  margin-bottom: 0\n\n// FIXME: remove after NotificationSettingSwitch reuse\n.setting-description\n  font-size: 14px\n  margin-bottom: 0\n.mobile-setting-item-wrapper\n  display: flex\n  align-items: center\n  gap: .5rem\n  padding: 10px 0\n  border-bottom: 1px solid var(--color-divider)\n  &.is-subcategory\n    margin-left: 1rem\n  .setting-item-text\n    flex: 1\n  .setting-item-switch\n    flex: 0 0 1\n  label\n    margin-bottom: 0\n</style>\n","import mod from \"-!../../../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/_thread-loader@2.1.3@thread-loader/dist/cjs.js!../../../../node_modules/_babel-loader@8.3.0@babel-loader/lib/index.js!../../../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/_vue-loader@15.11.1@vue-loader/lib/index.js??vue-loader-options!./NotificationChannelTemplate.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/_thread-loader@2.1.3@thread-loader/dist/cjs.js!../../../../node_modules/_babel-loader@8.3.0@babel-loader/lib/index.js!../../../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/_vue-loader@15.11.1@vue-loader/lib/index.js??vue-loader-options!./NotificationChannelTemplate.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./NotificationChannelTemplate.vue?vue&type=template&id=4931a549&scoped=true\"\nimport script from \"./NotificationChannelTemplate.vue?vue&type=script&lang=js\"\nexport * from \"./NotificationChannelTemplate.vue?vue&type=script&lang=js\"\nimport style0 from \"./NotificationChannelTemplate.vue?vue&type=style&index=0&id=4931a549&prod&lang=sass&scoped=true\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/_vue-loader@15.11.1@vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"4931a549\",\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}